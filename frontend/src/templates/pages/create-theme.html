{% extends "base.html" %}

{% block head %}
    <!-- Theme creation guide specific meta -->
    <meta name="description" content="Learn how to create custom themes for VC Viewer. Step-by-step guide for developing and submitting your own credential visualization themes.">
    <meta property="og:description" content="Create your own custom themes for VC Viewer. Complete guide with examples and best practices.">
    <meta name="twitter:description" content="Step-by-step guide for creating custom VC Viewer themes. Learn theme development and submission process.">
    <title>VC Viewer - Theme Creation Guide</title>

    <!-- Theme creation guide specific styles -->
    <link href="/frontend/src/css/docs.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" crossorigin="anonymous">
{% endblock %}

{% block content %}
    <main class="container-fluid">
        <div class="row">
            <!-- Sidebar Navigation -->
            <div class="col-md-3 col-xl-2 docs-sidebar">
                <nav class="nav flex-column">
                    <h5 class="sidebar-heading">Theme Development</h5>
                    <a class="nav-link" href="#overview">Overview</a>
                    <a class="nav-link" href="#structure">Theme Structure</a>
                    <a class="nav-link" href="#base-theme">Base Theme</a>
                    <a class="nav-link" href="#styling">Theme Styling</a>
                    <a class="nav-link" href="#testing">Testing</a>
                    <a class="nav-link" href="#submission">Theme Submission</a>
                </nav>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 col-xl-10 docs-content">
                <h1>Theme Creation Guide</h1>
                <p>Learn how to create custom themes for VC Viewer.</p>

                <section id="overview">
                    <h2>Overview</h2>
                    <p>VC Viewer themes are composed of two main parts:</p>
                    <ul>
                        <li>A JavaScript class that extends the base theme and handles credential data</li>
                        <li>A CSS file that defines the visual appearance of the theme</li>
                    </ul>
                    <div class="note">
                        <strong>Note:</strong> Before creating a new theme, check if a similar theme already exists in our <a href="/themes">Themes Gallery</a>.
                    </div>
                </section>

                <section id="structure">
                    <h2>Theme Structure</h2>
                    <p>Each theme should follow this directory structure:</p>
                    <pre><code class="language-text">frontend/src/themes/
└── CredentialType/
    └── theme-name/
        ├── theme-name.css
        └── ThemeName.js</code></pre>
                    
                    <p>For example, a modern university degree theme would be structured as:</p>
                    <pre><code class="language-text">frontend/src/themes/
└── UniversityDegreeCredential/
    └── modern/
        ├── modern.css
        └── ModernTheme.js</code></pre>
                </section>

                <section id="base-theme">
                    <h2>Base Theme</h2>
                    <p>All themes must extend the <code>BaseTheme</code> class and implement required methods:</p>
                    <pre><code class="language-javascript">class ModernUniversityTheme extends BaseTheme {
    constructor() {
        super('modern', 'Modern University Theme');
        this.supportedTypes = ['UniversityDegreeCredential'];
    }

    render(credential) {
        // Create and return the theme's HTML structure
        const container = document.createElement('div');
        container.className = 'modern-university-theme';
        
        // Add credential data to the container
        container.innerHTML = `
            &lt;div class="header"&gt;
                &lt;h1&gt;${this.getIssuerName(credential)}&lt;/h1&gt;
            &lt;/div&gt;
            &lt;div class="content"&gt;
                &lt;!-- Add more credential data here --&gt;
            &lt;/div&gt;
        `;
        
        return container;
    }

    getIssuerName(credential) {
        return typeof credential.issuer === 'string' 
            ? credential.issuer 
            : credential.issuer.name || credential.issuer.id;
    }
}</code></pre>
                </section>

                <section id="styling">
                    <h2>Theme Styling</h2>
                    <p>Create a CSS file for your theme's visual appearance:</p>
                    <pre><code class="language-css">.modern-university-theme {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    font-family: 'Arial', sans-serif;
}

.modern-university-theme .header {
    text-align: center;
    margin-bottom: 2rem;
}

.modern-university-theme .content {
    /* Add more styles */
}</code></pre>

                    <h3>Best Practices</h3>
                    <ul>
                        <li>Use BEM or similar naming convention to avoid style conflicts</li>
                        <li>Support both light and dark modes using CSS variables</li>
                        <li>Ensure responsive design for various screen sizes</li>
                        <li>Optimize for print when exporting to PDF</li>
                    </ul>
                </section>

                <section id="testing">
                    <h2>Testing Your Theme</h2>
                    <p>Test your theme thoroughly with different credentials:</p>
                    <ol>
                        <li>Test with minimal valid credentials</li>
                        <li>Test with full credentials containing all optional fields</li>
                        <li>Verify dark mode appearance</li>
                        <li>Test responsiveness on different screen sizes</li>
                        <li>Test PDF and image export functionality</li>
                    </ol>
                </section>

                <section id="submission">
                    <h2>Theme Submission</h2>
                    <p>To submit your theme:</p>
                    <ol>
                        <li>Fork the <a href="https://github.com/AmaVic/vc-viewer">VC Viewer repository</a></li>
                        <li>Add your theme following the structure guidelines</li>
                        <li>Update the themes registry in <code>frontend/src/themes/registry.js</code></li>
                        <li>Submit a pull request with:
                            <ul>
                                <li>Theme files (JS and CSS)</li>
                                <li>Updated registry</li>
                                <li>Example credentials for testing</li>
                                <li>Screenshots of the theme</li>
                            </ul>
                        </li>
                    </ol>
                    <div class="note">
                        <strong>Note:</strong> Make sure your theme follows our code style and includes appropriate documentation.
                    </div>
                </section>
            </div>
        </div>
    </main>
{% endblock %}

{% block scripts %}
    <!-- Syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-javascript.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-css.min.js" crossorigin="anonymous"></script>

    <!-- Menu highlighting -->
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Highlight active section in sidebar
        const observerCallback = (entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        };

        const observer = new IntersectionObserver(observerCallback, {
            rootMargin: '-20% 0px -80% 0px'
        });

        document.querySelectorAll('section[id]').forEach(section => {
            observer.observe(section);
        });
    </script>
{% endblock %} 